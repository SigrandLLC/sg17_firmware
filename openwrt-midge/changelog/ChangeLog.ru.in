выпуск	описание основных изменений
------	----------------------------------------------------------------

1-2289
	DSLAM:	исправлена ошибка в скрипте инициализации VLANов -
		некоторые настройки VLAN неприменялись при загрузке.

1-2285
	DSLAM:	немного изменена страница настройки Ethernet портов -
		Autonegotiation теперь отображается в виде галочки.

	WEB:	добавлена вкладка, отображающая состояния ethernet портов
		DSLAM (hardware/ethernet/port/port status)

	WEB:	dslam-sw: исправлено несохранение настроек
		link aggregation.

1-2275	(Невыпущен)
	NET:	dslam-ethernet: добавлен драйвер нового
		ethernet модуля DSLAM.
		Пока еще не окончен и не протестирован.

	WEB:	Исправлена ошибка отображения настроек PoE
		для каналов без PoE.

1-2263
	WEB:	добавлена настройка режима бондинга
		(меню network/dynamic interfaces/manage).

1-2261
	VoIP:	svd: исправлена проблема работы VoIP, когда в таблице
		Router ID в качестве локального адреса установлен адрес
		виртуального интерфейса (бриджа, VLANа).

1-2258
	OS:	RS-232: Исправлена проблема не передачи сигнала DTR
		при мультиплексировании.

1-2256
	OS:	Добавлен драйвер аппаратной сторожевой собаки (watchdog).
		Пинг каждые 5 секунд, срабатывание 60 секунд.
		Должно помочь при жёстких зависаниях, например, при
		ударах молний.

	OS:	KDB: Добавлен скрипт сброса к заводским настройкам
		/sbin/factory-reset.

	NET:	DSL: MTU теперь задается правильно.
		Это решает проблему потери пакетов и установления
		соединения между ТЧ каналами.

	NET:	Убрано задание MTU для интерфейсов входящих в бридж
		так как драйвер бриджа и без этого правильно
		обрабатывает кадры VLAN.

	WEB:	На cтранице статистики портов DSLAM
		"TX/RX packages" исправлено на "TX/RX packets".

	WEB:	Убрано автоматическое обновление статистики
		из-за проблем в firefox.

	WEB:	Исправлена ошибка отображения страницы настроек
		VLAN DSLAM-a в некоторых браузерах.

1-2242
	WEB:	Исправлено описание
		"Auto switch to normal/daylight-saving time"

	VoIP:	убраны параметры SIP-прокси

	DSLAM:	Исправлена и включена страница статистики
		портов DSLAM

	WEB:	модули теперь считаются с нуля

	DSL:	значение clkmode по умолчанию изменено
		c plesio на sync

	DSLAM:	* по умолчанию PoE теперь в режиме auto без PoE+
		* добавлена вкладка статуса PoE
		* Изменен вид вкладки настроек PoE

	DSLAM:	переделана вкладка настройки VLAN,
		добавлена опция вкл/выкл 802.1Q VLAN

	WEB:	исправлена ошибка с IE (не открывались настройки VoIP)

1-2223
	WEB:	lighttpd обновлён до 1.4.28, что решает проблему
		настройки более чем 16 ТЧ каналов.

1-2217
	DSLAM:
		* уменьшен таймаут в функциях чтения регистров POE чипов
		* исправлены значения pci subsystem id

	WEB:	kdb_save.cgi: исправлена ошибка:
		переменные FORM_SESSIONID и FORM_subsystem могут иметь
		продолжение в именах

	VOIP:	изменен приоритет протоколов для SIP траффика -
		TCP теперь приоритетнее.
		Это решает проблему установления соединения ТЧ каналов
		в некоторых схемах.

	WEB:	добавлены поля для изменения MAC адресов бридж и бонд
		интерфейсов.

1-2210

	NET:	добавлено поле для изменения MAC адреса VLAN интерфейсов
		(network/dynamic ifnterfaces/iface_name/specific tab)

	VOIP:	переделан алгоритм установления соединения ТЧ каналов:
		* оба канала при загрузке посылают инвайты
		  пока не установтся соединение
		* если младший роутер принимает инвайт, то он прекращает
		  слать инвайты

		решена проблема невосстановления связи ТЧ каналов
		при перезагрузке роутера с младшим ID

		убран механизм пинга каналов ТЧ.

	VOIP:	решена проблема нехождения голосового трафика
		в разных подсетях:
		убрана привязка к ко всем текущим активным интерфейсам
		на момент старта, все слушающие сокеты (SIP и RTP)
		привязываются к INADDR_ANY (0.0.0.0).
		Задача 117.

	VOIP:	svc:	команда подсчёта числа процессов svd сокращена до
			одного ps и подсчёта числа строк, что должюно
			сэкономить ресурсы процессора.

	VOIP:	WEB:
			размер пакета 50 убран из списка, так как он явно
			запрещён в драйвере vinetic

			на вкладке Hardware/VoIP/VF добавлены кнопки
			копирования значения первой строки для всех
			столбцов таблицы

	NET:	eocd: исправлено сообщение в скрипте инициализации
		eocd: запускать демона только при наличии субмодулей DSL

	DSLAM:	убрана настройка PoE для интерфейсов ge;
		по умолчанию PoE теперь выключен.

	WEB:	kdb_save.cgi: в цикле по переменным использование grep
		заменено на case для экономии времени процессора,
		что должно ускорить сохранение параметров в kdb.

	WEB:	добавлен редирект с адреса
		https://ipaddress на
		https://ipaddress/wf2.
		Задача 57.

	WEB:	Исправлена ошибка: Изменение hostname не отображалось
		в системе до перезагрузки.
		Задача 111.

	BUILD:	решена проблема сборки в среде с новыми glibc (Ubuntu)
		(добавлены патчи исправления buffer overflow для binutils)

1-2179
	WEB:	исправлен баг с кнопками на странице
		Hardware/VoIP/VF/Voice frequency channels (1-2172).
		Задача 119.

1-2177
	OS:	Решён аппартатный конфликт между Altera HDLC controller
		в SG-16R и DSLAM в SG-17S.
		Теперь одна прошивка снова работает и в SG-17{R,S} и в SG-16.

1-2174
	NET:	Исправлена ошибка неполучения MAC адресов с сервера
		при первой загрузке для OEM прошивок.
		Задача 112.

	WEB:	Исправлена ошибка: в Internet Explorer 8 главное меню
		отображается через строчку.
		Задча 24.

1-2172
	WEB:	на странице Hardware/VoIP/VF/Voice frequency channels
		добавлены 3 кнопки EN, R.ID, Chan для удобства.
		Задача 89.

1-2171
1-2167
	DSLAM:	Исправлена ошибка в скриптах инициализации модулей DSLAM.

1-2165
	DSLAM:
		* исправлено обновление МАСов при первом запуске системы
		  при наличии DSLAM.
		* исправлена инициализация модулей DSLAM при их отсутствии.
		* добавлен драйвер для ethernet модулей DSLAM.
		* WEB:	добавлены настройки ethernet портов DSLAM,
			port mirroring и link aggregation.
		* CLI:	добавлен.

1-2156
	* NET: исправлена ошибка 107: VLAN интерфейс не создавался.

1-2155
	* DSLAM: работает

1-2082
	* WEB: исправлена ошибка 105: не работало сохранение/восстановление конфигурации
	  с версии 1-2043

1-2080
	* WEB: исправлена ошибка 102, созданная при исправлении ошибки 18
	  (выпуск 1-2011): показываются только 4 последних RS-232 порта.
	* удалены лишние библиотеки mysql, ustl

1-2010
	* Terminal service: не запускать сервис если нет портов RS-232

1-2003
	* DSLAM: мелкие исправления

1-2000
	* WEB:	Исправлена ошибка: при удалении slave интерфейса из
		bridge/bonding slave интерфейс не восстанавливает своих
		прежних настроек - метода назначения адреса,
		флагов auto, enabled.
		Задача 54.

1-1990
	* WEB:	Исправлена ошибка: удаление или добавление динамического
		интерфейса (bridge, bonding, vlan) приводило к многократному
		повторению физических интерфейсов e1, dsl в списке
		System/Info/Hardware information.
		Задача 18.

1-1987
	* WEB:	Исправлена ошибка отнесения интерфейса VLAN с более чем
		1 цифрами в VLAN id к составным интерфейсам (bridge, bonding)
		при совпадении подстрок имён интерфейсов.
		Задача 56.

1-1985
	* WEB:	Свойство сетевого интерфейса "depend on" удалено как ненужное.
		Задача 61.

1-1980
	* Сообщение ядра "Altera firmware load fail" заменено на
		"Altera firmware load: fail or device not present".
		Задача 90.

1-1968
	* DSLAM: добавлен
	* WEB:	удалён Zeroconf из методов конфигурации интерфейсов
	* WEB:	удалёна вкладка Services/DHCP, дублирующая
		Network/Static/iface/DHCP
	* WEB:	изменён список "DHCP/Default lease time" на 1,6,24 hours,
		week, month

1-1957
	* microcom: исправлена проблема с Zelax GM

1-1953
	* adm5120sw: правильная индикация состояния eth0-eth3
	* tbuff (web console) добавлен в выпуск
	* snmp: добавлены страница конфигурации, посылка trap'ов
	* Terminal server: исправлены фокус и прокрутка.

1.1-1902
	* выпуск без ТЧ пинга, но с законченным rs232-tcpext
1-1932
        * VoIP: восстановление канала ТЧ: периодическая проверка связи
		и перевызов;
1-1909
	* VoIP: старт службы после поднятия сети, а не до;
	* rs232-tcpext: исправлена ошибка инит скрипта
		с устройствами другого типа;
	* VoIP:	значение для поля TOS пакета IP применяется полностью,
		а не маскируется, как положено;
	* rs232-tcpext:
		значение для поля TOS пакета IP применяется полностью,
		а не маскируется, как положено;
1-1879
	* добавлена новая функция: удлинитель портов RS-232 по TCP/IP;
	* terminal server: исправлена ошибка прокрутки вкладок;
	* VoIP: восстановление канала ТЧ;
	* VoIP:	поддержка без-перемычковых плат;
	* WEB: иправлено отображение большого числа вкладок;
1-1650
	* в конфигурацию системы добавлены параметры
		IP address, netmask для OEM;
1-1633
	* консоль: выключены цвета в выводе ls по умолчанию,
		специально для тупых терминалов Windows;
	* полноценный ps из procps вмечто примитивного из busybox;
	* из конфигурации ядра убраны заведомо не используемые устройства;
	* использован tmpfs для монтирования /var/run и /var/lock;
		решает проблему pid и lock файлов, остающихся
		при некорректном завершении/перезагрузке/выключении питания;
	* добавлены pciutils (lspci);
	* убрана поддержка USB (здесь никогда не было таикх устройств);
	* консоль: исправлены небольшие проблемы на плохих терминалах;
	* WEB: добавлены символы разворачивания/сворачивания вкладки;
1-1520
	* VoIP:	поддержка без-перемычковых плат;
	* WEB:	добавлены настройки "RS-232 over IP";
		Добавлены настройки "software flow control" и
		"modem control signals" во вкладке настройки портов RS232;
	* Добавлен sftpserver (позволяет монтирование файловой системы
		рутера по sshfs);
	* WEB:	Множество исправлений в terminal server и web console;
1-1500
1521
	* VoIP:	поддержка без-перемычковых плат;
	* WEB: исправлены проблемы с Google Chrome и Opera
	* Добавлен sftpserver (позволяет монтирование файловой системы
		рутера по sshfs);
	* Вариант сборки с выключенным в ядре firewall (iptables)
		для увеличения числа обрабатываемых пакетов в единицу времени
		(медленный процессор);
	* Новая схема нумерации выпусков;
1485
	* консоль: определение размера экрана
1481
	* добавлены утилиты nice, nuhup, printenv, watch, less, rx, lrzsz;
	* убран vi, используется nano;
	* VoIP:	поддержка без-перемычковых плат;
1472
	* Change E1 loopback setup logic;
1456
	* обновлён текст контекстной помощи;
	* Enable IP route multipath;
	* WEB: fix bug in linkdeps (incorrect handling of E1 v16 interfaces);
	* VoIP: update documentation;
	* добавлен mgetty;
	* VoIP: изменены умолчания кодеков
	* VoIP WEB: добавлены настроки Jitter Buffer.
		параметры на кодек, а не на канал;
1424
	* VoIP: исправления в Jitter Buffer
